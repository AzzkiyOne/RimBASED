<?xml version="1.0" encoding="utf-8"?>

<Patch>

    <Operation Class="PatchOperationAdd">
        <xpath>
            Defs
            /ThingDef[
                defName="CA_WoodFiredTurbine"
                or defName="CA_ChemfuelTurbine"
                or defName="CA_ChemfuelCrematorium"
                or defName="CAS_ChemfuelCooler"
            ]
        </xpath>
        <value>
            <minifiedDef>MinifiedThing</minifiedDef>
        </value>
    </Operation>

    <Operation Class="PatchOperationConditional">
        <xpath>
            Defs
            /ThingDef[
                defName="CA_ChemfuelStoveLarge"
                or defName="CE_FueledSmithyLarge"
            ]
        </xpath>
        <match Class="PatchOperationRemove">
            <xpath>
                Defs
                /ThingDef[
                    defName="CA_ChemfuelStoveLarge"
                    or defName="CE_FueledSmithyLarge"
                ]
                /minifiedDef
            </xpath>
        </match>
    </Operation>

    <!-- Category -->

    <Operation Class="PatchOperationAdd">
        <xpath>
            Defs
            /ThingDef[
                defName="CA_WoodFiredTurbine"
                or defName="CA_ChemfuelTurbine"
            ]
        </xpath>
        <value>
            <thingCategories>
                <li>BuildingsPower</li>
            </thingCategories>
        </value>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>
            Defs
            /ThingDef[defName="CA_ChemfuelCrematorium"]
        </xpath>
        <value>
            <thingCategories>
                <li>BuildingsProduction</li>
            </thingCategories>
        </value>
    </Operation>

    <Operation Class="PatchOperationConditional">
        <xpath>
            Defs
            /ThingDef[
                defName="CA_ChemfuelStoveLarge"
                or defName="CE_FueledSmithyLarge"
            ]
        </xpath>
        <match Class="PatchOperationRemove">
            <xpath>
                Defs
                /ThingDef[
                    defName="CA_ChemfuelStoveLarge"
                    or defName="CE_FueledSmithyLarge"
                ]
                /thingCategories
            </xpath>
        </match>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>
            Defs
            /ThingDef[defName="CAS_ChemfuelCooler"]
        </xpath>
        <value>
            <thingCategories>
                <li>BuildingsTemperature</li>
            </thingCategories>
        </value>
    </Operation>

    <!-- Mass -->

    <Operation Class="PatchOperationAdd">
        <xpath>
            Defs
            /ThingDef[
                defName="CA_WoodFiredTurbine"
                or defName="CA_ChemfuelTurbine"
                or defName="CA_ChemfuelCrematorium"
                or defName="CAS_ChemfuelCooler"
            ]
            /statBases
        </xpath>
        <value>
            <Mass>40</Mass>
        </value>
    </Operation>

    <Operation Class="PatchOperationConditional">
        <xpath>
            Defs
            /ThingDef[
                defName="CA_ChemfuelStoveLarge"
                or defName="CE_FueledSmithyLarge"
            ]
            /statBases
        </xpath>
        <match Class="PatchOperationAdd">
            <xpath>
                Defs
                /ThingDef[
                    defName="CA_ChemfuelStoveLarge"
                    or defName="CE_FueledSmithyLarge"
                ]
                /statBases
            </xpath>
            <value>
                <Mass>40</Mass>
            </value>
        </match>
    </Operation>

</Patch>
